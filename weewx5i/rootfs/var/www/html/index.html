<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WeeWX</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <style type="text/css">
      #mainiframe {
        width: 100%;
        height: 2500;
      }

      /* ============ desktop view ============ */
      @media all and (min-width: 990px) {
        .dropdown-menu li {
          position: relative;
        }
        .dropdown-menu .submenu {
          display: none;
          position: absolute;
          left: 100%;
          top: -7px;
        }
        .dropdown-menu .submenu-left {
          right: 100%;
          left: auto;
        }

        .dropdown-menu > li:hover {
          background-color: #f1f1f1;
        }
        .dropdown-menu > li:hover > .submenu {
          display: block;
        }
      }

      /* ============ desktop view .end// ============ */

      /* ============ small devices ============ */
      @media (max-width: 991px) {
        .dropdown-menu .dropdown-menu {
          margin-left: 0.7rem;
          margin-right: 0.7rem;
          margin-bottom: 0.5rem;
        }
      }
      /* ============ small devices .end// ============ */

      /* make primary button bold */
      .btn-primary {
        color: #fff;
      }
    </style>

    <!--Set the iframe to the content selected by the menu -->
    <script type="text/javascript">
      function setFrame(e) {
        var page = e.getAttribute("data-name");
        document.getElementById("mainiframe").src = page;
        //document.getElementById("mainiframe").data = page;
      }
    </script>

    <script type="text/javascript">
      //	window.addEventListener("resize", function() {
      //		"use strict"; window.location.reload();
      //	});

      document.addEventListener("DOMContentLoaded", function () {
        /////// Prevent closing from click inside dropdown
        //document.querySelectorAll(".dropdown-menu").forEach(function (element) {
        //  element.addEventListener("click", function (e) {
        //    e.stopPropagation();
        //  });
        // });

        // make it as accordion for smaller screens
        if (window.innerWidth < 992) {
          // close all inner dropdowns when parent is closed
          document
            .querySelectorAll(".navbar .dropdown")
            .forEach(function (everydropdown) {
              everydropdown.addEventListener("hidden.bs.dropdown", function () {
                // after dropdown is hidden, then find all submenus
                this.querySelectorAll(".submenu").forEach(function (
                  everysubmenu
                ) {
                  // hide every submenu as well
                  everysubmenu.style.display = "none";
                });
              });
            });

          document
            .querySelectorAll(".dropdown-menu a")
            .forEach(function (element) {
              element.addEventListener("click", function (e) {
                let nextEl = this.nextElementSibling;
                if (nextEl && nextEl.classList.contains("submenu")) {
                  // prevent opening link if link needs to open dropdown
                  e.preventDefault();
                  console.log(nextEl);
                  if (nextEl.style.display == "block") {
                    nextEl.style.display = "none";
                  } else {
                    nextEl.style.display = "block";
                  }
                }
              });
            });
        }
        // end if innerWidth
      });
      // DOMContentLoaded  end
    </script>
  </head>

  <body>
    <!-- the navbar container -->
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">WeeWx 5</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#main_nav"
            aria-expanded="false"
            aria-label="Toggle navigation"
            id="button"
            data-name="/seasons/index.html"
            onClick="javascript:setFrame(this)"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="main_nav">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a
                  class="btn btn-primary"
                  href="#"
                  role="button"
                  data-name="/configuration/home"
                  onClick="javascript:setFrame(this)"
                  >Home</a
                >
              </li>

              <!-- Reports Top level menu -->
              <li class="nav-item dropdown" id="configuration">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  data-bs-toggle="dropdown"
                >
                  Reports
                </a>
                <!-- Reports Sub menu -->

                <ul class="dropdown-menu">
                  <!--                  -->

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/amphibian/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Amphibian
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/belchertown/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Belchertown
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/jas/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      JAS
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/neowxmaterial/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      NeoWX-Material
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/nws/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      NWS
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/seasons/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Seasons
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/simple/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Simple
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/smartphone/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Smartphone
                    </button>
                  </li>
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/ss/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      Steel Series
                    </button>
                  </li>

                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/wdc/index.html"
                      onClick="javascript:setFrame(this)"
                    >
                      WDC
                    </button>
                  </li>
                </ul>
              </li>

              <!-- Configuration Top level menu -->
              <li class="nav-item dropdown" id="configuration">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  data-bs-toggle="dropdown"
                >
                  Configuration
                </a>
                <!-- Configuration Sub menu -->
                <ul class="dropdown-menu">
                  <!-- Configuration Sub menu - Overall  -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/overall"
                      onClick="javascript:setFrame(this)"
                    >
                      Overall
                    </button>
                  </li>

                  <!-- Configuration Sub menu - Station   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/station"
                      onClick="javascript:setFrame(this)"
                    >
                      Station
                    </button>
                  </li>

                  <!-- Configuration Sub menu - >Logging   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/logging"
                      onClick="javascript:setFrame(this)"
                    >
                      Logging
                    </button>
                  </li>

                  <!-- Configuration Sub menu - >Derived Values   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/derivedvalues"
                      onClick="javascript:setFrame(this)"
                    >
                      Derived Values
                    </button>
                  </li>

                  <!-- Configuration Sub menu - >MQTT Subscribe Service   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/mqttsubscribeservice"
                      onClick="javascript:setFrame(this)"
                    >
                      MQTT Subscribe
                    </button>
                  </li>

                  <!-- Configuration Sub menu - NWS   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/nws"
                      onClick="javascript:setFrame(this)"
                    >
                      NWS
                    </button>
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <!-- Configuration Sub menu RESTful-->
                  <li>
                    <a class="dropdown-item" href="#"> Restful &raquo; </a>
                    <ul class="submenu dropdown-menu">
                      <!-- Configuration Sub menu RESTful - StationRegistry -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/stationregistry"
                          onClick="javascript:setFrame(this)"
                        >
                          Station Registry
                        </button>
                      </li>

                      <!-- Configuration Sub menu RESTful - AWEKAS -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/awekas"
                          onClick="javascript:setFrame(this)"
                        >
                          AWEKAS
                        </button>
                      </li>

                      <!-- Configuration Sub menu RESTful - CWOP -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/cwop"
                          onClick="javascript:setFrame(this)"
                        >
                          CWOP
                        </button>
                      </li>

                      <!-- Configuration Sub menu RESTful - PWS Weather -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/pwsweather"
                          onClick="javascript:setFrame(this)"
                        >
                          PWS Weather
                        </button>
                      </li>
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/wow"
                          onClick="javascript:setFrame(this)"
                        >
                          WOW
                        </button>
                      </li>

                      <!-- Configuration Sub menu RESTful - Weather Underground -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/wunderground"
                          onClick="javascript:setFrame(this)"
                        >
                          Weather Underground
                        </button>
                      </li>
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/mqtt"
                          onClick="javascript:setFrame(this)"
                        >
                          MQTT
                        </button>
                      </li>
                    </ul>
                  </li>

                  <!-- Configuration Sub menu reports-->
                  <li>
                    <a class="dropdown-item" href="#"> Reports &raquo; </a>
                    <ul class="submenu dropdown-menu">
                      <!-- Configuration Sub menu Reports - Std Reports -->
                      <li>
                        <button
                          type="button"
                          class="btn text-nowrap"
                          data-name="/configuration/stdreports"
                          onClick="javascript:setFrame(this)"
                        >
                          Std Reports
                        </button>
                      </li>

                      <!-- Configuration Sub menu Reports -->
                      <li>
                        <a class="dropdown-item" href="#"> Network &raquo; </a>
                        <ul class="submenu dropdown-menu">
                          <li>
                            <button
                              type="button"
                              class="btn text-nowrap"
                              data-name="/configuration/ftp"
                              onClick="javascript:setFrame(this)"
                            >
                              FTP
                            </button>
                          </li>
                          <li>
                            <button
                              type="button"
                              class="btn text-nowrap"
                              data-name="/configuration/rsync"
                              onClick="javascript:setFrame(this)"
                            >
                              RSync
                            </button>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class="nav-item dropdown" id="maintenance">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  data-bs-toggle="dropdown"
                >
                  Maintenance
                </a>
                <!-- Configuration Sub menu -->
                <ul class="dropdown-menu">
                  <!-- Configuration Sub menu - Service  -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/service"
                      onClick="javascript:setFrame(this)"
                    >
                      Service
                    </button>
                  </li>

                  <!-- Configuration Sub menu - Defaults   -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/setdefaults"
                      onClick="javascript:setFrame(this)"
                    >
                      Defaults
                    </button>
                  </li>

                  <!-- Configuration Sub menu - Run Reports -->
                  <li>
                    <button
                      type="button"
                      class="btn text-nowrap"
                      data-name="/configuration/runreports"
                      onClick="javascript:setFrame(this)"
                    >
                      Run Reports
                    </button>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <!-- navbar-collapse.// -->
        </div>
        <!-- container-fluid.// -->
      </nav>
    </div>

    <!-- iframe container to hole main content -->

    <div class="container-fluid">
      <iframe
        src="/jas/index.html"
        title="iframe"
        name="iframe"
        id="mainiframe"
        width="100%"
        height="2500"
      ></iframe>
    </div>
    <!--
    <div class="container-fluid">
      <embed
        type="text/html"
        src="/seasons/index.html"
        name="iframe"
        id="mainiframe"
        width="100%"
        height="2500"
      />
    </div>
    -->
    <!--
    <div class="container-fluid">
      <object
        data="/seasons/index.html"
        name="iframe"
        id="mainiframe"
        width="100%"
        height="2500"
        ;
      />
    </div>
    -->
  </body>
</html>
