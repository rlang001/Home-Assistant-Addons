name: rtl433_2_mqtt
version: 0.0.8
slug: rtl433_2_mqtt
description: rtl433_2_mqtt Add-on
stage: experimental
startup: application
init: false

legacy: true

arch:
  - aarch64
  - amd64
  - i386

#panel_icon: mdi:log
panel_admin: false

options:
  general:
    sleep_for: 60
    verbosity: info
  mqtt:
    host: 127.0.0.1
    port: 1833
    user: user
    password: password
    base_topic: "rtl-433"
    retain: "false"
  sdr0:  
    device: 0
    frequency: 433.92Mhz
    gain: 0
    
  sdr1:
    device: 1
    frequency: 915Mhz
    gain: 0
    
# parameters: -d 0 -f 433.92Mhz -C si -F "mqtt://192.168.10.12,user=mqtt,pass=Sadi3Bail33,retain=1,devices=rtl_433/localhost/devices[/type][/model][/subtype]/id[id],events=rtl_433/localhost/events"

schema:
  general:
    sleep_for: "int?"
    verbosity: "list(debug|info|warning|critical|none)?"
  mqtt:
    host: "str?"
    port: "int?"
    user: "str?"
    password: str?
    base_topic: "str?"
    retain: "bool?"
  sdr0:
    device: "match(^[0-9]{3}:[0-9]{3})?"
    frequency: "str?"
    gain: "int?"
  sdr1:
    device: 1
    frequency: "str?"
    gain: "int?"

    
services:
  - mqtt:want

usb: true

